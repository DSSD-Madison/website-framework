---
import ContactButton from "./ContactButton.astro";

const { data, id, hideRole, small } = Astro.props;

let img;
if (data.photo) {
  img = data.photo.fields.file.url;
}
---

<div
  class:list={[`p-2 flex flex-col text-center relative md:shadow-md md:rounded-lg md:bg-slate-200 hyphens-auto break-words m-1`, { "basis-40 md:basis-52 lg:m-4": !small, "basis-32 w-32 md:basis-40 lg:m-2": small }]}
  id={id}
>
  <img
    class:list={[`h-20 inline-block py-auto self-center m-2 rounded-full aspect-square object-cover`, { "md:h-40": !small, "md:h-32": small }]}
    src={img ? img : "/people/no-user-img.svg"}
    alt={data.fullName + "'s profile image"}
  />
  <div>
    <p class="text-xl mt-1">{data.fullName}</p>
    {
      !hideRole && (
        <p class="text-lg">
          {data.graduated && "Former"} {data.role}
        </p>
      )
    }
  </div>
  <div class="flex-grow" />
  <div>
    {
      data.linkedIn && (
        <ContactButton
          href={data.linkedIn}
          target="_blank"
          img="/people/linkedin.svg"
          alt="View LinkedIn"
        />
      )
    }
    {
      data.email && (
        <ContactButton
          href={"mailto:" + data.email}
          target="_blank"
          img="/people/email.svg"
          alt="Send Email"
        />
      )
    }
    {
      data.personalWebsite && (
        <ContactButton
          href={data.personalWebsite}
          target="_blank"
          img="/people/external-website.svg"
          alt="View Personal Website"
        />
      )
    }
  </div>
</div>
